<html ng-app="myApp">

<head>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="//use.fontawesome.com/3d61d6959e.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>

    <!-- Adding JQUERY To use jQuery, simply ensure it is loaded before the angular.js file. -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="//code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.21/moment-timezone-with-data.min.js"></script>
    <!-- Adding Angular -->
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular-route.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.0/angular-mocks.js"></script>

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-animate.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-sanitize.js"></script>

    <!-- Charts used in historical angular.morris -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.4/raphael-min.js"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">

    <link rel="stylesheet" href="/UIComponents/dashboard/frontend/components/chart/chart.css">

    <script src="/UIComponents/dashboard/frontend/components/chart/morris.js"></script>
    <!--script src="//cdnjs.cloudflare.com/ajax/libs/angular-morris/1.3.0/angular-morris.min.js"></script-->
    <script src="/UIComponents/dashboard/frontend/components/chart/angular.morris.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.4/raphael-min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/justgage/1.2.2/justgage.min.js"></script>
    <script src="/UIComponents/dashboard/frontend/components/gauge/angular.gauge.min.js"></script>
    <script src="/UIComponents/dashboard/frontend/components/gauge/gauge.js"></script>


    <script src="//d3js.org/d3.v4.min.js"></script>
    <script src="/UIComponents/dashboard/frontend/components/speedometer/angular.metergauge.min.js"></script>
    <script src="/UIComponents/dashboard/frontend/components/speedometer/speedometer.js"></script>


    <link rel="stylesheet" href="/UIComponents/dashboard/frontend/components/odometer/odometer.car.css">
    <script src="/UIComponents/dashboard/frontend/components/odometer/odometer.min.js"></script>
    <script src="/UIComponents/dashboard/frontend/components/odometer/angular.odometer.min.js"></script>
    <script src="/UIComponents/dashboard/frontend/components/odometer/odometer.js"></script>

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular-cookies.js"></script>
    <script src="//cdn.rawgit.com/gdi2290/angular-websocket/v1.0.9/angular-websocket.min.js"></script>
    <script src="/UIComponents/wsProvider.js"></script>
    <script src="/UIComponents/httpProvider.js"></script>
    <script src="/UIComponents/dataService.js"></script>
    <script src="/UIComponents/dashboard/frontend/components/chart/chart.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.0/ui-bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.0/ui-bootstrap-tpls.min.js"></script>

    <link rel="stylesheet" href="/UIComponents/dashboardBuilder/lib/gridster/angular_gridster.min.css">
    <link rel="stylesheet" href="/UIComponents/dashboardBuilder/css/dashboard.css">
    <script src="/UIComponents/dashboardBuilder/lib/gridster/angular_gridster.min.js"></script>

    <script
        src="//maps.google.com/maps/api/js?key=AIzaSyBcPYghFh_BXz4dDz-TXTHbU2iV3Wbf57I&libraries=drawing,visualization"></script>
    <script src="/UIComponents/dashboard/frontend/components/map/markerClusterer.js"></script>
    <script src="//rawgit.com/allenhwkim/angularjs-google-maps/master/build/scripts/ng-map.js"></script>

    <script src="/UIComponents/dashboard/frontend/components/map/map.js"></script>



    <link rel="stylesheet" href="/UIComponents/dashboard/frontend/components/thermometer/style.css">
    <script src="/UIComponents/dashboard/frontend/components/thermometer/thermometer_directive.js"></script>
    <script src="/UIComponents/dashboard/frontend/components/thermometer/thermometer.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/ag-grid/10.0.0/ag-grid.js?ignore=notused36"></script>
    <script src="/UIComponents/dashboard/frontend/components/grid/grid.js"></script>
    <link rel="stylesheet" href="/UIComponents/dashboard/frontend/components/grid/grid.css">

   


 

  



    <script src="//cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="/UIComponents/dashboard/frontend/components/3dSurface/angular-plotly.js"></script>
    <script src="/UIComponents/dashboard/frontend/components/3dSurface/3dsurface.js"></script>


</head>


<style>
    .light .dashboardContainer {}

    .light .box {}


    .light .box .box-content {}

    .light .box .box-header {}

    .light .box .box-header .box-label {}
</style>
<script>

    (function () {

        if ("" == "Yes") {

            var scriptName = window.location.pathname.substring(1, window.location.pathname.length)
            var loginTemplateTarget = "/UIComponents/dashboardBuilder/loginTemplate.html?redirectTarget=" + scriptName + "&anon_token="

            var authorization = $.scriptr.authorization(
                {
                    onTokenValid: function () { },
                    loginPage: loginTemplateTarget
                }
            );
        }


        $.urlParam = function (name) {
            var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
            if (results == null) {
                return null;
            } else {
                return results[1] || 0;
            }
        }

        $.getUrlVars = function () {
            var vars = [], hash;
            var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
            for (var i = 0; i < hashes.length; i++) {
                hash = hashes[i].split('=');
                vars.push(hash[0]);
                vars[hash[0]] = hash[1];
            }
            return vars;
        }

        var underscore = angular.module('underscore', []);
        underscore.factory('_', ['$window', function ($window) {
            return $window._; // assumes underscore has already been loaded on the page		
        }]);


        var wssConfig = ["wsClientProvider", function (wsClientProvider) {
            wsClientProvider.setBaseUrl("wss://" + window.location.host + "/");
            wsClientProvider.setToken($.urlParam("auth_token"));
            wsClientProvider.setPublishChannel("requestChannel");
            wsClientProvider.setSubscribeChannel("responseChannel");
        }];

        var httpsConfig = ["httpClientProvider", function (httpClientProvider) {
            httpClientProvider.setBaseUrl("https://" + window.location.host);
            httpClientProvider.setToken($.urlParam("auth_token"));
        }]

        var myApp = angular.module("myApp", ["underscore", "WsClient", "HttpClient", 'DataService', 'D3Surface'])
        angular.module('myApp').config(wssConfig);
        angular.module('myApp').config(httpsConfig);

        myApp.config(function ($interpolateProvider, $locationProvider) {
            $interpolateProvider.startSymbol('{[{');
            $interpolateProvider.endSymbol('}]}');
            $locationProvider.html5Mode({
                enabled: true,
                requireBase: false
            });
        });


        myApp.controller('RootCtrl', function ($scope, $interpolate, $location) {
            var vm = this;

            vm.init = function () {
            }
            vm.plotlyFormatData1 = function (data) {
                return data;
            }
            vm.colorScale=[[0, 'rgb(0,0,255)'], [1, 'rgb(255,0,0)']];

        });

    })();

</script>

<body class="dashboard-template light">
    <div ng-controller="RootCtrl as vm" ng-init="vm.init();" class="dashboardContainer">


        <div class='box-wrapper box-wrapper-with-border '>
            <div class="box">
                <div class='box-header col-xs-12 box-with-header'>
                    <div class="box-label"><span tooltip-append-to-body="true" uib-tooltip="Wind Rose">3D Surface</span>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class='box-content box-content-with-header'>
                    <scriptr-three-d-surface transport='https' on-format-data='vm.plotlyFormatData1'
                        api='UIComponents/dashboard/frontend/examples/3dsurface/getData'
                         title='Test 3d Surface'
                                             width='500'
                                             height='500'
                                             color-scale='vm.colorScale'
                                            bar-title='Pressure'
                                              bar-thickness='15'
                                             xaxis='Tem' yaxis='Hum' zaxis='Pre'
                                           
                                             >
                    </scriptr-three-d-surface>
                </div>
            </div>
        </div>

    </div>
</body>

</html>